/*
########################################################################
JS/jQuery script for gpEasy Slider Factory - Main Slider Module
Author: J. Krausz
Date: 2016-04-28
Version: 1.0.1
########################################################################
*/

/*
 * Inspired and largely based on Malsup's jQuery Cycle Light - http://malsup.com/jquery/cycle/lite/
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 */

!function(e){"use strict";function i(i,t,s,n){var o=0,a=i.hasClass("gpSlider_calculateHeight");if(!s||""==s||a){var l=0;if(a?i.css("height","auto"):(i.hide(),l=parseInt(i.css("height"),10),i.show()),24>l||a){var r=0;t.each(function(){e(this).addClass("gpSlide-measureHeight");var i=e(this).outerHeight();e(this).removeClass("gpSlide-measureHeight"),r=i>r?i:r})}o=r,i.addClass("gpSlider_calculateHeight")}else o=s;i.outerHeight(o),"px"==n?i.outerHeight(o).css("padding-bottom",0):i.css({height:0,"padding-bottom":o+"%"})}function t(i,s,n,o,a){function l(e){parseInt(e.timeout)>0&&(r.sliderTimeout=setTimeout(function(){t(i,e,0,!e.rev,!1)},parseInt(e.timeout)))}if(!s.busy){var r=e(i[0]).closest(".filetype-wrapper_section").get(0),d=i[s.currSlide],c=i[s.nextSlide];if(r.sliderTimeout&&clearTimeout(r.sliderTimeout),isadmin&&e(r).find(".gp_editing").length+e("#ckeditor_wrap").length>0&&(r.sliderPaused=1),0!==r.sliderTimeout||n)if(n||!r.sliderPaused){s.before.length&&e.each(s.before,function(e,i){i.apply(c,[d,c,s,o])});var p=function(){e.each(s.after,function(e,i){i.apply(c,[d,c,s,o])}),l(s)};if(s.nextSlide!=s.currSlide)if(a){var u=s.speed;s.speed=0,e.fn.gpSlider.custom(d,c,s,p),s.speed=u}else s.busy=1,e.fn.gpSlider.custom(d,c,s,p);if(s.showIndicators||isadmin){var f=e(i[0]).closest(".gpSlideWrapper").find(".gpSlideIndicators li");f.removeClass("gpSlideActive"),f.eq(s.nextSlide).addClass("gpSlideActive")}var h=s.nextSlide+1==i.length;s.nextSlide=h?0:s.nextSlide+1,s.currSlide=h?i.length-1:s.nextSlide-1}else l(s)}}function s(i,s,n){var o=e(i[0]).closest(".gpSlideWrapper").get(0),a=o.sliderTimeout;return a&&(clearTimeout(a),o.sliderTimeout=0),s.nextSlide=s.currSlide+n,s.nextSlide<0?s.nextSlide=i.length-1:s.nextSlide>=i.length&&(s.nextSlide=0),t(i,s,1,n>=0,!1),!1}e.fn.gpSlider=function(n){return this.each(function(){n=n||{};var o=e.extend({},e.fn.gpSlider.defaults,n||{});o.timeout=o.timeout&&""!=o.timeout?o.timeout:0,this.sliderTimeout&&clearTimeout(this.sliderTimeout),this.sliderTimeout=0,this.sliderPaused=0;var a=e(this),l={};if(a.find(".simple_blog_title").length>0){var r=a.find(".simple_blog_title").closest(".GPAREA");r.children("h3").hide(),r.children("a").hide(),r.children(".simple_blog_title").each(function(){var i=e('<div class="simple_blog_slide"/>').prependTo(r),t=e(this).siblings(".simple_blog_info").first(),s=e(this).siblings(".simple_blog_abbrev").first();i.append(e(this)),i.append(t),i.append(s)}),o.slideSelector=".simple_blog_slide",l=a.find(o.slideSelector)}else l=a.children(o.slideSelector);if(l.each(function(i){var t=e(this);t.addClass("gpSlide gpSlide-noTransitions"),setTimeout(function(){t.removeClass("gpSlide-noTransitions")},250),t.data("slide-index",i)}),a.addClass("gpSlideWrapper "+o.theme),a.hasClass("gpSlider_calculateHeight")?e(window).on("load",function(){i(a,l,o.height,o.heightUnit)}):i(a,l,o.height,o.heightUnit),e(window).on("resize",function(){a.hasClass("gpSlider_calculateHeight")&&i(a,l,o.height,o.heightUnit)}),o.shuffle&&!isadmin){for(;l.length;)l.parent().append(l.splice(Math.floor(Math.random()*l.length),1)[0]);l=a.find(".gpSlide")}var d=l.get();if(!(d.length<2)){o.before=o.before?[o.before]:[],o.after=o.after?[o.after]:[],o.after.unshift(function(){o.busy=0}),o.timeout=parseInt(o.timeout),o.speed=parseInt(o.speed);var c=o.randomStart&&!isadmin?Math.round(Math.random()*(d.length-1)):0;if(l.css({position:"absolute",top:0,left:0,opacity:1,"z-index":"auto","-webkit-transform":"scale(1,1) translate(0,0) rotateX(0) rotateY(0) rotateZ(0) rotate3d(0,0,0,0)","-moz-transform":"scale(1,1) translate(0,0) rotateX(0) rotateY(0) rotateZ(0) rotate3d(0,0,0,0)","-ms-transform":"scale(1,1) translate(0,0) rotateX(0) rotateY(0) rotateZ(0) rotate3d(0,0,0,0)","-o-transform":"scale(1,1) translate(0,0) rotateX(0) rotateY(0) rotateZ(0) rotate3d(0,0,0,0)",transform:"scale(1,1) translate(0,0) rotateX(0) rotateY(0) rotateZ(0) rotate3d(0,0,0,0)"}).show(),o.pauseOnHover&&(a.on("mouseenter admin:mouseenter",function(){e(this).get(0).sliderPaused=1}),a.on("mouseleave",function(){e(this).get(0).sliderPaused=0})),a.find(".gpSlideIndicators").remove(),o.showIndicators||isadmin){var p=e('<ul class="gpSlideIndicators" />');l.each(function(i){e('<li data-gpSlider_gotoSlide="'+i+'"><a role="button">'+(i+1)+"</a></li>").on("click",function(){o.nextSlide=parseInt(e(this).attr("data-gpSlider_gotoSlide"));var i=o.nextSlide>o.currSlide;t(d,o,!0,i,!1)}).appendTo(p)}),p.prependTo(e(this).find(".filetype-slider_factory")),!o.showIndicators&&isadmin&&p.hide()}a.find(".gpPrevSlide, .gpNextSlide").remove(),(o.showPrevNext||isadmin)&&(a.prepend('<a title="'+a.find(".sliderfactory-data").attr("data-next-text")+'" class="gpNextSlide" role="button">'+a.find(".sliderfactory-data").attr("data-next-text")+"</a>").prepend('<a title="'+a.find(".sliderfactory-data").attr("data-prev-text")+'" class="gpPrevSlide" role="button">'+a.find(".sliderfactory-data").attr("data-prev-text")+"</a>"),a.find(".gpNextSlide, .next-slide, a[href='#next-slide']").bind("click.slide",function(e){return e.preventDefault(),s(d,o,1)}),a.find(".gpPrevSlide, .prev-slide, a[href='#prev-slide']").bind("click.slide",function(e){return e.preventDefault(),s(d,o,-1)}),!o.showPrevNext&&isadmin&&a.find(".gpPrevSlide, .gpNextSlide").hide()),a.unbind("swipeleft").bind("swipeleft",function(){return s(d,o,1)}),a.unbind("swiperight").bind("swiperight",function(){return s(d,o,-1)});var u=e.fn.gpSlider.transitions[o.transitionEffect];u&&u(a,l,o),0!=o.timeout&&o.timeout-o.speed<150&&(o.timeout=o.speed+150),o.slideCount=d.length,o.currSlide=0>c-1?o.slideCount-1:c-1,o.nextSlide=c,t(d,o,!0,!0,!0),e(d[o.currSlide]).css({opacity:1,"z-index":o.slideCount}).show()}})},e.fn.gpSlider.custom=function(i,t,s,n){var o=e(i),a=e(t),l="fadeOutIn"==s.transitionEffect?parseInt(s.speed)/2:parseInt(s.speed);return o.removeClass("gpSlide-active"),0===l?(o.velocity(s.animOut,0).css(s.cssAfter),a.velocity(s.animIn,0).css("clip","auto").addClass("gpSlide-active"),void n()):(o.addClass("gpSlide-out"),a.addClass("gpSlide-in").css(s.cssBefore),o.velocity(s.animOut,l,s.easing,function(){o.css(s.cssAfter).removeClass("gpSlide-out"),a.removeClass("gpSlide-in").addClass("gpSlide-active"),"fadeOutIn"==s.transitionEffect&&a.velocity(s.animIn,l,s.easing,n)}),"fadeOutIn"!=s.transitionEffect&&a.velocity(s.animIn,l,s.easing,n),("wipeH"==s.transitionEffect||"wipeV"==s.transitionEffect)&&setTimeout(function(){a.css("clip","auto")},l+200),void("zoomFade"==s.transitionEffect&&setTimeout(function(){a.velocity({scale:1},10)},l+200)))},e.fn.gpSlider.transitions={slideH:function(i,t,s){s.before.push(function(i,s,n,o){var a=o===!0?1:-1;t.css("visibility","hidden"),e(i).css("visibility","visible"),e(s).css("visibility","visible"),n.cssBefore={left:100*a+"%"},n.cssAfter={},n.animIn={left:"0%"},n.animOut={left:-100*a+"%"}})},slideV:function(i,t,s){s.before.push(function(i,s,n,o){var a=o===!0?1:-1;t.css("visibility","hidden"),e(i).css("visibility","visible"),e(s).css("visibility","visible"),n.cssBefore={top:100*a+"%"},n.cssAfter={},n.animIn={top:"0%"},n.animOut={top:-100*a+"%"}})},wipeH:function(i,t,s){s.before.push(function(s,n,o,a){var l=i.outerWidth(),r=i.outerHeight(),d=a===!0?l:0;t.css({visibility:"hidden","z-index":0,clip:"auto"}),e(s).css({visibility:"visible","z-index":a===!0?1:2}),e(n).css({visibility:"visible","z-index":a===!0?2:1}),o.cssBefore={clip:"rect(0px, "+d+"px, "+r+"px, "+d+"px)"},o.cssAfter={clip:"auto","z-index":0},o.animIn={clipTop:"0px",clipRight:l+"px",clipBottom:r+"px",clipLeft:"0px"},o.animOut={top:0}})},wipeV:function(i,t,s){s.before.push(function(s,n,o,a){var l=i.outerWidth(),r=i.outerHeight(),d=a===!0?r:0;t.css({visibility:"hidden","z-index":0,clip:"auto"}),e(s).css({visibility:"visible","z-index":a===!0?1:2}),e(n).css({visibility:"visible","z-index":a===!0?2:1}),o.cssBefore={clip:"rect("+d+"px, "+l+"px, "+d+"px, 0px)"},o.cssAfter={clip:"auto","z-index":0},o.animIn={clipTop:"0px",clipRight:l+"px",clipBottom:r+"px",clipLeft:"0px"},o.animOut={top:0}})},fadeOutIn:function(i,t,s){s.before.push(function(i,s,n,o){t.css({visibility:"hidden","z-index":0}),e(i).css({visibility:"visible","z-index":1}),e(s).css({visibility:"visible","z-index":2}),n.cssBefore={opacity:0},n.cssAfter={},n.animIn={opacity:1},n.animOut={opacity:0}})},crossfade:function(i,t,s){s.before.push(function(i,s,n,o){t.css({visibility:"hidden","z-index":0}),e(i).css({visibility:"visible","z-index":2}),e(s).css({visibility:"visible","z-index":1}),n.cssBefore={opacity:1},n.cssAfter={"z-index":0},n.animIn={top:0},n.animOut={opacity:0}})},zoomFade:function(i,t,s){s.before.push(function(i,s,n,o){t.css({visibility:"hidden","z-index":0}),e(i).css({visibility:"visible","z-index":2}),e(s).css({visibility:"visible","z-index":1}),n.cssBefore={},n.cssAfter={"z-index":0},n.animIn={opacity:[1,1],scale:[1,1]},n.animOut={opacity:[0,1],scale:[1.25,1]}})},pulse:function(i,t,s){s.before.push(function(i,s,n,o){t.css({visibility:"hidden","z-index":0}),e(i).css({visibility:"visible","z-index":1}),e(s).css({visibility:"visible","z-index":2}),n.cssBefore={},n.cssAfter={"z-index":0},n.animIn={opacity:[1,0],scale:[1,1.33]},n.animOut={scale:[1.33,1],opacity:[0,1]}})},emerge:function(i,t,s){s.before.push(function(i,s,n,o){t.css({visibility:"hidden","z-index":0}),e(i).css({visibility:"visible","z-index":1}),e(s).css({visibility:"visible","z-index":2}),n.cssBefore={},n.cssAfter={},n.animIn={opacity:[1,0],scale:[1,.25]},n.animOut={opacity:1,scale:1}})},vanish:function(i,t,s){s.before.push(function(i,s,n,o){t.css({visibility:"hidden","z-index":0}),e(i).css({visibility:"visible","z-index":2}),e(s).css({visibility:"visible","z-index":1}),n.cssBefore={},n.cssAfter={"z-index":0,top:0},n.animIn={opacity:[1,1],top:["0%","0%"],scale:[1,1]},n.animOut={opacity:[0,1],top:["75%","0%"],scale:[.25,1]}})},pushDown:function(i,t,s){s.before.push(function(i,s,n,o){t.css({visibility:"hidden","z-index":0}),e(i).css({visibility:"visible","z-index":2}),e(s).css({visibility:"visible","z-index":1});var a=o===!0?1:-1;n.cssBefore={},n.cssAfter={},n.animIn={top:["0%",-50*a+"%"]},n.animOut={top:[100*a+"%","0%"]}})},uncover:function(i,t,s){s.before.push(function(i,s,n,o){t.css({visibility:"hidden","z-index":0}),e(i).css({visibility:"visible","z-index":2}),e(s).css({visibility:"visible","z-index":1});var a=o===!0?-1:1;n.cssBefore={},n.cssAfter={"z-index":0},n.animIn={translateY:[0,0],translateX:[0,0],rotateZ:[0,0]},n.animOut={translateY:["25%","0%"],translateX:[100*a+"%","0%"],rotateZ:[12*a,0]}})}},e.fn.gpSlider.defaults={slideSelector:".GPAREA:not(.filetype-slider_controls)",transitionEffect:"fadeout",before:null,after:null,randomStart:!1,shuffle:!1,showPrevNext:!0,showIndicators:!0,prev:".gpPrevSlide",next:".gpNextSlide",pauseOnHover:!0,delay:0,speed:600,timeout:6e3,easing:"swing"}}(jQuery),function(e){"use strict";"ontouchend"in document;e.event.special.swipe=e.event.special.swipe||{scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var i=e(this);i.bind("touchstart",function(t){function s(i){if(a){var t=i.originalEvent.touches?i.originalEvent.touches[0]:i;n={time:(new Date).getTime(),coords:[t.pageX,t.pageY]},Math.abs(a.coords[0]-n.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&i.preventDefault()}}var n,o=t.originalEvent.touches?t.originalEvent.touches[0]:t,a={time:(new Date).getTime(),coords:[o.pageX,o.pageY],origin:e(t.target)};i.bind("touchmove",s).one("touchend",function(t){i.unbind("touchmove",s),a&&n&&n.time-a.time<e.event.special.swipe.durationThreshold&&Math.abs(a.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(a.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&a.origin.trigger("swipe").trigger(a.coords[0]>n.coords[0]?"swipeleft":"swiperight"),a=n=void 0})})}},e.event.special.swipeleft=e.event.special.swipeleft||{setup:function(){e(this).bind("swipe",e.noop)}},e.event.special.swiperight=e.event.special.swiperight||e.event.special.swipeleft}(jQuery);
/*
########################################################################
JS/jQuery script for gpEasy Slider Factory - Init
Author: J. Krausz
Date: 2016-04-28
Version: 1.0.1
########################################################################
*/
function SliderFactory_init(t){var e=t.closest(".filetype-wrapper_section");if(e.length<1)return void(isadmin&&t.addClass("sliderfacory-outOfWrapperWarning"));if(t.next(".filetype-slider_factory").length>0)return void(isadmin&&alert("Warning! \n\nIt seems you have more than one 'Slider Factory' sections inside a Section Wrapper!\nPlease remove them using 'Manage Sections'."));var a={},r=t.find(".sliderfactory-data");a.slideSelector=r.attr("data-slide-selector")?r.attr("data-slide-selector"):".GPAREA:not(.filetype-slider_factory)",r.attr("data-transition-effect")&&(a.transitionEffect=r.attr("data-transition-effect")),r.attr("data-random-start")&&(a.randomStart="true"==r.attr("data-random-start")?!0:!1),r.attr("data-shuffle")&&(a.shuffle="true"==r.attr("data-shuffle")?!0:!1),r.attr("data-show-prev-next")&&(a.showPrevNext="true"==r.attr("data-show-prev-next")?!0:!1),r.attr("data-prev-text")&&(a.prevText=r.attr("data-prev-text")),r.attr("data-next-text")&&(a.nextText=r.attr("data-next-text")),r.attr("data-show-indicators")&&(a.showIndicators="true"==r.attr("data-show-indicators")?!0:!1),r.attr("data-pause-on-hover")&&(a.pauseOnHover="true"==r.attr("data-pause-on-hover")?!0:!1),r.attr("data-delay")&&(a.delay=r.attr("data-delay")),r.attr("data-speed")&&(a.speed=r.attr("data-speed")),r.attr("data-timeout")&&(a.timeout=r.attr("data-timeout")),r.attr("data-easing")&&(a.easing=r.attr("data-easing")),r.attr("data-theme")?a.theme=r.attr("data-theme"):a.theme="gpSliderTheme-default",r.attr("data-height")&&(a.height=r.attr("data-height")),r.attr("data-height-unit")&&(a.heightUnit=r.attr("data-height-unit")),a.before=function(){},a.after=function(){},e.gpSlider(a),$(window).resize()}$(document).ready(function(){$(".filetype-slider_factory").each(function(){SliderFactory_init($(this))})}),$(document).on("SectionAdded PreviewAdded",".filetype-slider_factory",function(){console.log("New Slider Factory section added"),SliderFactory_init($(this))}),$(document).on("SectionAdded PreviewAdded",".filetype-wrapper_section",function(){var t=$(this).find(".filetype-slider_factory");t.length>0&&(console.log("New Slider Factory Section added inside Section Combo"),SliderFactory_init(t))}),$(document).on("SectionSorted",".GPAREA",function(){var t=$(this).parent().is(".filetype-wrapper_section")&&$(this).siblings(".filetype-slider_factory").length>0;t&&(console.log("Section dragged into or sorted inside Slider wrapper"),SliderFactory_init($(this).siblings(".filetype-slider_factory")))}),$(document).on("SectionRemoved PreviewRemoved",".filetype-wrapper_section",function(){var t=$(this).children(".filetype-slider_factory").length>0;t&&(console.log("Section removed from Slider wrapper"),SliderFactory_init($(this).children(".filetype-slider_factory")))});